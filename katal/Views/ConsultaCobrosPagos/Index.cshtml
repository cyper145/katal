@{
    ViewBag.Title = "GridView";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Head {
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/GridView.css")" />
    <script type="text/javascript" src="@Url.Content("~/Content/GridView.js")"></script>
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/SignInRegister.css")" />
    <script type="text/javascript" src="@Url.Content("~/Content/SignInRegister.js")"></script>
    <style>
        .edit_form .editFormButton {
            width: calc(20% - 2px);
        }

        form.edit_form {
            margin: 30px 20px
        }
    </style>

    <script>

        function OnGridArticuloRowClick(s, e) {
            var g = gridLookup.GetGridView();
            g.GetRowValues(e.visibleIndex, 'description;unidad', OnGetRowArticuloValues);
        }
        function OnGetRowArticuloValues(Value) {
            console.log(Value[0]);
            var data = document.getElementById("grid_DXEFL_DXEditor2_I");
            data.value = Value[1];
        }
        function OnTipo(s, e) {
           
            console.log(CB_C_MODO.GetValue());
            $.getJSON('/MovimientoBanco/changeTipo?tipo=' + CB_C_MODO.GetValue(), function (resp) {
                $.each(resp, function (k, v) {

                    console.log("holas2");
                    //ver que se muestre 
                });
            });
        }
        function initTipo(s, e) {
            if (CB_C_MODO.GetValue() == null) {
                CB_C_MODO.SetValue(0);
            }
            $.getJSON('/MovimientoBanco/changeTipo?tipo=' + CB_C_MODO.GetValue(), function (resp) {
                $.each(resp, function (k, v) {

                    console.log("holas");

                    //ver que se muestre 
                });
            });
        }
        function dateInit() {

            if (CB_D_FECCA.GetText() == "") {
                let f = new Date();
                CB_D_FECCA.SetText(f.getDate() + "/" + (f.getMonth() + 1) + "/" + f.getFullYear());
            }
            if (CB_D_FECCOB.GetText() == "") {
                let f = new Date();
                CB_D_FECCOB.SetText(f.getDate() + "/" + (f.getMonth() + 1) + "/" + f.getFullYear());
            }


        }
       
        function OnToolbarItemClick(s, e) {
            if (!IsCustomExportToolbarCommand(e.item.name))
                return;
            var $exportFormat = $('#customExportCommand');
            $exportFormat.val(e.item.name);
            $('form').submit();
            window.setTimeout(function () {
                $exportFormat.val("");
            }, 0);
        }
        function IsCustomExportToolbarCommand(command) {
            return command == "CustomExportToXLS" || command == "CustomExportToXLSX";
        }

        // cambios para bancos
        function OnGridChangeOperacion(s, e) {
            console.log(gridLookupOpciones.GetValue());

            $.getJSON('/MovimientoBanco/changeOperacion?codigoOperacion=' + gridLookupOpciones.GetValue(), function (resp) {
                $.each(resp, function (k, v) {
                   
                   gridLookupTipoAnexo.SetVisible(v);
                    gridLookupAnexo.SetVisible(v);
                   

                });
            });
        }

        function initSecuencia(s, e) {
            $.getJSON('/MovimientoBanco/Initsecuencia', function (resp) {
                $.each(resp, function (k, v) {
                    CB_C_SECUE.SetText(v);

                });
            });
        }


    </script>
}
@section PageToolbar {
    @Html.DevExpress().Menu(menuSettings =>
{
    menuSettings.Name = "pageToolbar";

    menuSettings.ItemAutoWidth = false;
    menuSettings.AllowSelectItem = false;
    menuSettings.ApplyItemStyleToTemplates = true;

    menuSettings.SettingsAdaptivity.Enabled = true;
    menuSettings.SettingsAdaptivity.EnableAutoHideRootItems = true;
    menuSettings.SettingsAdaptivity.EnableCollapseRootItemsToIcons = true;
    menuSettings.SettingsAdaptivity.CollapseRootItemsToIconsAtWindowInnerWidth = 600;

    menuSettings.Width = Unit.Percentage(100);
    menuSettings.ControlStyle.SeparatorWidth = Unit.Pixel(0);
    menuSettings.ControlStyle.CssClass = "page-toolbar";

    menuSettings.Styles.Item.CssClass = "item";
    menuSettings.Styles.Item.VerticalAlign = VerticalAlign.Middle;
    menuSettings.Styles.Item.HorizontalAlign = HorizontalAlign.Left;
    menuSettings.Images.Item.Width = Unit.Pixel(16);
    menuSettings.Images.Item.Height = Unit.Pixel(16);

    menuSettings.Items.Add(item =>
    {
        item.Enabled = false;
        item.SetTemplateContent(template => ViewContext.Writer.Write("<h1>Consulta De Cobros y Pagos</h1>"));
    });
   
 
}).GetHtml()
  
}

@section LeftPanelContent {
    @Html.Partial("~/Views/partialGeneral/LeftPanelPartial.cshtml");
}

@section RightPanelContent {
    <div class="settings-content">
        <h2>Settings</h2>
        <p>Place your content here</p>
    </div>
}

@Html.Partial("DateRangePicker")



@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    @Html.Partial("DataRequisicionPartial")
}










